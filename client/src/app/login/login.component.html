<div class="flex justify-center items-center min-h-screen bg-gradient-to-r from-red-500 via-orange-500 to-pink-500">
    <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md">
        <h2 class="text-3xl font-bold mb-6 text-center text-orange-800">Login</h2>
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
            <div class="mb-4">
                <label for="country" class="block mb-2 text-orange-800">Country Name</label>
                <div class="relative w-full">
                    <div 
                      (click)="toggleDropdown()" 
                      class="flex items-center justify-between p-2 border border-orange-300 rounded bg-white text-orange-800 cursor-pointer"
                    >
                      <div *ngIf="loginForm.get('country')?.value" class="flex flex-col items-center">
                        <img [src]="getSelectedFlag()" class="w-6 h-4 mb-1" [alt]="loginForm.get('country')?.value + ' flag'">
                        <span class="text-sm">{{ loginForm.get('country')?.value }}</span>
                      </div>
                      <span *ngIf="!loginForm.get('country')?.value">Select a country</span>
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                      </svg>
                    </div>
                    <div 
                      *ngIf="isDropdownOpen" 
                      class="absolute z-10 w-full mt-1 bg-white border border-orange-300 rounded-b shadow-lg max-h-60 overflow-auto"
                    >
                      <div 
                        *ngFor="let country of countries" 
                        (click)="selectCountry(country.name)"
                        class="flex items-center p-2 hover:bg-orange-100 cursor-pointer"
                      >
                        <img [src]="country.flag" class="w-6 h-4 mr-2" [alt]="country.name + ' flag'">
                        <span>{{ country.name }}</span>
                      </div>
                    </div>
                  </div>
                
                <div *ngIf="loginForm.get('country')?.invalid && (loginForm.get('country')?.touched || loginForm.get('country')?.dirty)" class="text-red-500 text-sm mt-1">
                    Country is required.
                </div>
            </div>
            <div class="mb-4">
                <label for="emailOrPhone" class="block mb-2 text-orange-800">Email/Phone</label>
                <input id="emailOrPhone" type="text" formControlName="emailOrPhone" class="w-full p-2 border border-orange-300 rounded bg-white text-orange-800" placeholder="Enter email or phone number">
                <div *ngIf="loginForm.get('emailOrPhone')?.invalid && (loginForm.get('emailOrPhone')?.touched || loginForm.get('emailOrPhone')?.dirty)" class="text-red-500 text-sm mt-1">
                    <div *ngIf="loginForm.get('emailOrPhone')?.errors?.['required']">Email or phone number is required.</div>
                    <div *ngIf="loginForm.get('emailOrPhone')?.errors?.['pattern']">Invalid email or phone number format.</div>
                </div>
            </div>
            <div class="mb-6">
                <label for="password" class="block mb-2 text-orange-800">Password</label>
                <input id="password" type="password" formControlName="password" class="w-full p-2 border border-orange-300 rounded bg-white text-orange-800" placeholder="Enter password">
                <div *ngIf="loginForm.get('password')?.invalid && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty)" class="text-red-500 text-sm mt-1">
                    <div *ngIf="loginForm.get('password')?.errors?.['required']">Password is required.</div>
                    <div *ngIf="loginForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters long.</div>
                </div>
            </div>
            <button type="submit" class="w-full bg-gradient-to-r from-red-500 via-orange-500 to-pink-500 p-2 rounded hover:from-red-600 hover:via-orange-600 hover:to-pink-600 transition duration-300 ease-in-out text-white" [disabled]="loginForm.invalid">Login</button>
        </form>
        <div *ngIf="showError" class="mt-4 p-2 bg-red-500 rounded text-white">
            {{ errorMessage }}
        </div>
        <div class="text-center mt-4">
            <a href="/forgot-password" class="text-orange-800 hover:underline">Forgot Password?</a>
        </div>
    </div>
</div>
